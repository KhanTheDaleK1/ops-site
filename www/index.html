<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EVAN // OPS CENTER</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <style>
        .menu-header {
            color: #005500;
            font-size: 0.8em;
            margin-top: 20px;
            margin-bottom: 5px;
            text-transform: uppercase;
            letter-spacing: 2px;
            border-bottom: 1px solid #004400;
        }
    </style>
</head>
<body>
    <canvas id="matrix"></canvas>
    <div id="sidebar">
        <h1>EVAN-OPTIPLEX<br>OPS NODE</h1>
        
        <button class="nav-btn active" onclick="loadView('home', this)">>> DASHBOARD</button>
        <button class="nav-btn" onclick="loadView('projects', this)">>> ACTIVE PROJECTS</button>

        <div class="menu-header">FLIGHT OPERATIONS</div>
        <button class="nav-btn" onclick="loadView('map', this)">>> FLIGHT MAP</button>
        <button class="nav-btn" onclick="loadView('graphs', this)">>> SIGNAL GRAPHS</button>
        <button class="nav-btn" onclick="loadView('flightlog', this)">>> FLIGHT LOGS</button>

        <div class="menu-header">NETWORKING & SEC</div>
        <button class="nav-btn" onclick="loadView('netflow', this)">>> TRAFFIC FLOW</button>
        <button class="nav-btn" onclick="loadView('wireshark', this)">>> WIRESHARK STATS</button>
        <button class="nav-btn" onclick="loadView('terminal', this)">>> ROOT TERMINAL</button>
        <button class="nav-btn" onclick="loadView('telemetry', this)">>> SYSTEM STATS</button>
        
        <div style="margin-top: auto;"></div>
        <button class="nav-btn" onclick="window.location.href='https://beechem.site'" style="border-color: #005500; color: #008800;">&lt;&lt; BACK TO HOME</button>
    </div>

    <div id="viewport">
        <iframe id="content-frame" src="/welcome/"></iframe>
    </div>

    <script src="matrix.js"></script>
    <script>
        const routes = {
            'home': '/welcome/',
            'projects': '/projects/',
            'map': '/tar1090/',
            'graphs': '/graphs1090/',
            'flightlog': '/flightlog/',
            'netflow': '/netflow/',
            'wireshark': '/wireshark/',
            'terminal': '/terminal/',
            'telemetry': '/glances/'
        };
        const frame = document.getElementById('content-frame');

        function loadView(view, btn) {
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            if(btn) btn.classList.add('active');
            
            if (routes[view]) {
                frame.src = routes[view];
            } else {
                console.error("Unknown view:", view);
            }
        }
        
        function reloadFrame() {
            if (frame.src) { frame.src = frame.src; } else { location.reload(); }
        }
    </script>
</body>
</html>