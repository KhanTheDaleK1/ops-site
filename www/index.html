<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EVAN // OPS CENTER</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .menu-header {
            color: #005500;
            font-size: 0.8em;
            margin-top: 20px;
            margin-bottom: 5px;
            text-transform: uppercase;
            letter-spacing: 2px;
            border-bottom: 1px solid #004400;
        }
    </style>
</head>
<body>
    <canvas id="matrix"></canvas>
    <div id="sidebar">
        <h1>EVAN-OPTIPLEX<br>OPS NODE</h1>
        
        <button class="nav-btn active" onclick="loadView('home', this)">>> DASHBOARD</button>

        <div class="menu-header">FLIGHT OPERATIONS</div>
        <button class="nav-btn" onclick="loadView('map', this)">>> FLIGHT MAP</button>
        <button class="nav-btn" onclick="loadView('graphs', this)">>> SIGNAL GRAPHS</button>
        <button class="nav-btn" onclick="loadView('flightlog', this)">>> FLIGHT LOGS</button>

        <div class="menu-header">NETWORKING & SEC</div>
        <button class="nav-btn" onclick="loadView('netflow', this)">>> TRAFFIC FLOW</button>
        <button class="nav-btn" onclick="loadView('wireshark', this)">>> WIRESHARK STATS</button>
        <button class="nav-btn" onclick="loadView('terminal', this)">>> ROOT TERMINAL</button>
        <button class="nav-btn" onclick="loadView('telemetry', this)">>> SYSTEM STATS</button>
        
        <div style="margin-top: auto;"></div>
        <button class="nav-btn" onclick="window.location.href='https://beechem.site'" style="border-color: #005500; color: #008800;">&lt;&lt; BACK TO HOME</button>
    </div>

    <div id="viewport">
        <div id="home-content">
            <div class="panel">
                <h2>// SYSTEM_STATUS</h2>
                <p>Welcome, Operator. Systems are primed.</p>
                <p><strong>Uptime:</strong> <span id="uptime">ONLINE</span> | <strong>Security:</strong> ENFORCED</p>
            </div>
            <div class="panel">
                <h2>// ACTIVE_MODULES</h2>
                <ul style="list-style-type: square; color: #00aa00;">
                    <li><strong>ADS-B Stack:</strong> <span style="color:#0f0">ACTIVE</span></li>
                    <li><strong>Net Monitor:</strong> <span style="color:#0f0">ACTIVE</span></li>
                    <li><strong>Packet Sniffer:</strong> <span style="color:#0f0">ACTIVE</span></li>
                </ul>
            </div>
        </div>
        <iframe id="content-frame" src=""></iframe>
    </div>

    <script src="matrix.js"></script>
    <script>
        const routes = {
            'map': '/tar1090/',
            'graphs': '/graphs1090/',
            'flightlog': '/flightlog/',
            'netflow': '/netflow/',
            'wireshark': '/wireshark/',
            'terminal': '/terminal/',
            'telemetry': '/glances/'
        };
        const frame = document.getElementById('content-frame');
        const home = document.getElementById('home-content');

        function loadView(view, btn) {
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            if (view === 'home') { frame.style.display = 'none'; home.style.display = 'block'; frame.src = ''; }
            else { home.style.display = 'none'; frame.style.display = 'block'; frame.src = routes[view]; }
        }
        
        function reloadFrame() {
            if (frame.style.display !== 'none') { frame.src = frame.src; } else { location.reload(); }
        }
    </script>
</body>
</html>
