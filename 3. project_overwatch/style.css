:root { --radar-green: #0f0; --radar-dim: #004400; --radar-bg: #000500; }
body, html { margin: 0; padding: 0; height: 100%; background: black; overflow: hidden; font-family: 'Courier New', monospace; }

#radar-container { position: relative; width: 100vw; height: 100vh; border: 2px solid var(--radar-green); box-sizing: border-box; }

/* MAP */
#map { width: 100%; height: 100%; background: black; z-index: 1; }
.leaflet-tile-pane { filter: invert(100%) sepia(100%) hue-rotate(70deg) saturate(300%) contrast(110%) brightness(2.0); }

/* SIDEBAR FIXES */
.detail-sidebar {
    position: absolute;
    top: 20px; left: 20px; /* Positioned Top-Left */
    width: 300px;
    background: rgba(0, 15, 0, 0.95);
    border: 1px solid var(--radar-green);
    box-shadow: 0 0 20px rgba(0, 255, 0, 0.2);
    z-index: 9999; /* MAX Z-INDEX */
    transition: transform 0.3s ease-in-out;
    display: flex; flex-direction: column;
}

/* Hidden State (Slide off screen) */
.hidden { transform: translateX(-350px); }

/* Sidebar Internals */
.img-box { position: relative; width: 100%; height: 180px; border-bottom: 2px solid var(--radar-green); background: #000; overflow: hidden; }
#sel-photo { width: 100%; height: 100%; object-fit: cover; filter: grayscale(100%) sepia(100%) hue-rotate(70deg) brightness(0.8) contrast(1.2); }
.scanline-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: repeating-linear-gradient(0deg, rgba(0,0,0,0.2), rgba(0,0,0,0.2) 1px, transparent 1px, transparent 2px); pointer-events: none; }

.info-header { padding: 10px; background: var(--radar-dim); border-bottom: 1px solid var(--radar-green); }
.big-text { font-size: 20px; font-weight: bold; color: #fff; text-shadow: 0 0 5px #0f0; }
.sub-text { font-size: 12px; color: var(--radar-green); opacity: 0.8; }

.data-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1px; background: var(--radar-green); border-top: 1px solid var(--radar-green); }
.data-cell { background: #000500; padding: 8px; display: flex; flex-direction: column; }
.full-width { grid-column: span 2; }
.label { font-size: 9px; color: var(--radar-green); opacity: 0.7; letter-spacing: 1px; margin-bottom: 2px; }
.val { font-size: 14px; font-weight: bold; color: #fff; text-shadow: 0 0 3px var(--radar-green); }

.close-btn { position: absolute; top: 5px; right: 5px; background: #000; color: #0f0; border: 1px solid #0f0; cursor: pointer; z-index: 10; padding: 2px 6px; }

/* HUD & ICONS */
.hud { position: absolute; z-index: 20; color: var(--radar-green); background: rgba(0, 10, 0, 0.85); padding: 10px; border: 1px solid var(--radar-green); }
.top-left { top: 20px; left: 340px; } /* Shifted right to make room for sidebar */
.top-right { top: 20px; right: 20px; width: 300px; padding: 0; }
.bottom-right { bottom: 20px; right: 20px; text-align: right; }

.panel-header { background: var(--radar-green); color: black; padding: 5px 10px; font-weight: bold; }
.scroll-box { max-height: 400px; overflow-y: auto; scrollbar-width: thin; scrollbar-color: var(--radar-green) black; }
table { width: 100%; border-collapse: collapse; font-size: 12px; }
th { text-align: left; border-bottom: 1px dashed var(--radar-dim); padding: 5px; color: #88ff88; }
td { padding: 4px 5px; border-bottom: 1px solid var(--radar-dim); }
tr:hover { background: var(--radar-dim); color: white; cursor: crosshair; }

.plane-icon { font-weight: bold; transition: all 1s linear; }
.iff-com { color: #0f0 !important; text-shadow: 0 0 5px #0f0 !important; }
.iff-mil { color: #fff !important; text-shadow: 0 0 8px #fff !important; }
.iff-leo { color: #0088ff !important; text-shadow: 0 0 5px #0088ff !important; }
.iff-unk { color: #ff3333 !important; text-shadow: 0 0 8px #f00 !important; animation: blink-target 1s infinite alternate; }
@keyframes blink-target { 0% { opacity: 1; } 100% { opacity: 0.4; } }
h1 { margin: 0; font-size: 1.2rem; }
.vignette { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: radial-gradient(circle, transparent 50%, black 150%); pointer-events: none; z-index: 11; }
